{% extends 'base.html.twig' %}
{% form_theme formCard 'bootstrap_4_layout.html.twig' %}

{% block title %}Libérez le pouvoir de votre mémoire{% endblock %}

{% block metaDescription %}
    <meta name="description" content="FCard est une application web de cartes mémoire
    qui permet d'apprendre facilement et durablement !">
{% endblock %}

{% block ogMeta %}
    <!-- block og:meta (facebook) : url, title and description -->
    <meta property="og:url" content="{{ app.request.uri }}" />
    <meta property="og:title" content="Libérez le pouvoir de votre mémoire | FCard" />
    <meta property="og:description" content="FCard est une application web de cartes mémoire
    qui permet d'apprendre facilement et durablement !" />
{% endblock %}

{% block JSON %}
    <!-- block SEO JSON -->
    <script type='application/ld+json'>
        {
            "@context": "http://www.schema.org",
            "@type": "WebSite",
            "name": "Libérez le pouvoir de votre mémoire | FCard",
            "url": "{{ app.request.uri }}"
        }
    </script>
{% endblock %}

{% block stylesheets %}
    <link rel="stylesheet" href="{{ asset('css/home.css') }}">
    <link rel="stylesheet" href="https://unpkg.com/aos@next/dist/aos.css" />
{% endblock %}

{% block body %}

    <section class="container main-section">

    {% if not app.user %}
        <div class="row">
            <div class="col-10 offset-1 text-center homepage-presentation mt-5">
               <h1 class="position-relative">Bienvenue sur FCard, le site qui rend votre mémoire infaillible !</h1>
                
                <p class="mt-5 lead text-justify">Vous souhaitez devenir incollable sur l’histoire de France ?
                    Vous désirez parfaire l’apprentissage d’une langue étrangère ?
                    Vous rêvez de retenir toutes les capitales du monde ? Vous voulez étoffer votre vocabulaire ?
                    Ne cherchez plus, <span class="font-weight-bold">FCard</span> est fait pour vous !</p>

                <span data-aos="fade-left" class="fa fa-lightbulb-o message-icon mt-5" aria-hidden="true"></span>
                <h2 data-aos="fade-left" data-aos-offset="150" class="mt-5">Apprenez facilement et rapidement grâce aux cartes mémoire</h2>
                <p data-aos="fade-left" data-aos-offset="180" class="mt-3 text-presentation text-justify">FCard est une
                    <strong>application web</strong> qui
                    reprend le système des flashcards, ou <strong>cartes mémoire</strong> en français. Lui-même basé sur
                    le principe de la répétition espacée, ce système est le meilleur moyen pour retenir durablement des
                    mots, des dates, des événements, bref, tout ce que vous voulez ! <br />
                    Une <strong>carte mémoire</strong> fonctionne comme une carte de question-réponse. Sur le recto de la carte,
                    qui correspond à sa partie visible par l’utilisateur, est renseignée une question. Le verso de la
                    carte, sa partie cachée, contient, comme vous l’aurez compris, la réponse. <br />
                    En révisant à intervalles réguliers une carte mémoire, la connaissance est intégrée dans la
                    <strong>mémoire à long terme</strong>. Autrement dit, grâce aux cartes mémoire, vous n’oublierez plus
                    ce mot que vous avez sur le bout de la langue !
                </p>
                
                <span data-aos="fade-right" class="fa fa-user-circle-o message-icon mt-5" aria-hidden="true"></span>
                <h2 data-aos="fade-right" data-aos-offset="150" class="mt-5">Une application personnalisée</h2>
                <p data-aos="fade-right" data-aos-offset="180" class="mt-3 text-presentation text-justify">Et c’est là
                    l’un des nombreux
                    avantages de FCard ;
                    l’application dépend entièrement de l’utilisateur, et ne lui impose aucune restriction. Vous décidez
                    ce que vous voulez <strong>apprendre</strong>, et vous déterminez la quantité de vos révisions quotidiennes et la
                    fréquence de vos révisions. L’application se contente de vous accompagner dans votre
                    <strong>apprentissage</strong>, en vous proposant des dates de révisions adaptées à vos
                    réponses.</p>
                
                <span data-aos="fade-left" class="fa fa-heart message-icon mt-5" aria-hidden="true"></span>
                <h2 data-aos="fade-left" data-aos-offset="150" class="mt-5">Un fonctionnement simple et adapté à vos
                    préférences</h2>
                <p data-aos="fade-left" data-aos-offset="180" class="mt-3 text-presentation text-justify">Pour
                    apprendre, par exemple, un
                    nouveau mot, vous devrez
                    créer une nouvelle carte depuis votre tableau de bord, en renseignant, sur le recto de la carte, la
                    question ou le sujet à <strong>apprendre</strong> et, sur le verso, la réponse attendue. Et… c’est tout ! <br />
                    La nouvelle carte s’affichera sur la page d’accueil et, selon la difficulté renseignée, celle-ci
                    reviendra à intervalles réguliers sur cette même page. La page d’accueil est le distributeur de vos
                    <strong>cartes mémoire</strong> : n’oubliez pas d’y revenir régulièrement ! Pour en savoir plus sur
                    le fonctionnement des cartes et de l’application, rendez-vous sur <a href="{{ path('presentation') }}" title="Apprenez comment utiliser les cartes mémoire">la page de présentation</a>.
                </p>
                
                <span data-aos="fade-right" class="fa fa-check message-icon mt-5" aria-hidden="true"></span>
                <h2 data-aos="fade-right" data-aos-offset="150" class="mt-5">N'attendez plus pour améliorer votre
                    mémoire !</h2>
                <p data-aos="fade-right" data-aos-offset="180" class="mt-3 mb-5 text-presentation text-justify">Vous
                    souhaitez devenir un pro
                    de la
                    <strong>mémoire</strong> ? N’attendez plus et inscrivez-vous sur FCard en vous rendant sur
                    <a href="{{ path('security_registration') }}" title="S'inscrire sur l'application">la page d’inscription</a>.
                    Si vous êtes déjà inscrit, rendez-vous sur <a href="{{ path('security_login') }}" title="Créer et réviser de nouvelles cartes">la page de connexion</a>.
                </p>
            </div>
        </div>
    {% else %}

    {% if cards is empty and count == 0 %}
        <div class="row">
            <div class="col-10 offset-1 col-md-8 offset-md-2 text-center message-home mt-5">
                <span class="fa fa-frown-o message-icon mt-5" aria-hidden="true"></span>
                <p class="message-text mt-3">Pas de cartes prévues aujourd'hui !</p>
                {% if deck is empty %}
                    <p class="message-reminder mt-3">Oups, vous n'avez aucune carte à réviser. Profitez-en pour créer vos <a href="{{ path('easyadmin', {entity: 'Card', action: 'new'}) }}">premières cartes</a> !</p>
                {% else %}
                    <p class="message-reminder mt-3">Oups, vous n'avez aucune carte à réviser. Profitez-en pour créer de <a href="{{ path('easyadmin', {entity: 'Card', action: 'new'}) }}">nouvelles cartes</a> !</p>
                {% endif %}
            </div>
        </div>
    {% elseif cards is empty and count > 0 %}
        <div class="row">
            <div class="col-10 offset-1 col-md-8 offset-md-2 text-center message-home mt-5">
                <span class="fa fa-check-circle message-icon mt-5" aria-hidden="true"></span>
                <p class="message-text mt-3">Plus de cartes à réviser, bravo !</p>
                <p class="message-reminder mt-3">N'oubliez pas que vous pouvez augmenter votre <a href="{{ path('easyadmin', {entity: 'User', action: 'list'}) }}">limite quotidienne</a> ou créer de <a href="{{ path('easyadmin', {entity: 'Card', action: 'new'}) }}">nouvelles cartes</a> !</p>
            </div>
        </div>
    {% endif %}
    
            
        <div class="row mt-5">
            {% for card in cards %}
                {% if loop.first %}
                    <div id="card-container" class="col-md-10 offset-md-1 col-lg-8 offset-lg-2">
                        <article class="card-user text-center p-5">
                            <div class="row">
                                <div class="order-2 col-12 order-md-1 col-md text-center text-md-left mb-3 mt-2 mt-md-n3">
                                {% for tag in card.tags %}
                                    <div class="d-inline-block tag-user">{{ tag.name | upper }}</div>
                                {% endfor %}
                                </div>
                                <div class="order-1 col-12 order-md-2 col-md text-center text-md-right mb-3 mt-n3 count-user"><span class="user-count">{{ due }}</span><span class="fa fa-clock-o d-inline-block ml-1" aria-hidden="true"></span> | <span class="user-limit">{{ count }}</span><span class="fa fa-check d-inline-block ml-1" aria-hidden="true"></span></div>
                            </div>
                            <p class="card-content mt-5">{{ card.recto }}</p>
                            <button type="button" id="btn-answer" class="btn btn-info mt-1 mb-5">Voir la réponse</button>
                            
                            <div id="verso-container">
                                <hr>
                                <p class="card-content">{{ card.verso }}</p>
                                <div class="card-form mt-5 position-relative">
                                    {{ form_start(formCard, {'attr': {'id': 'form-card' }}) }}

                                    {% if not formCard.reset.rendered and not formCard.hard.rendered
                                        and not formCard.medium.rendered and not formCard.easy.rendered %}
                                        <div class="form-group">
                                            {{ form_widget(formCard.reset, {'label': 'À revoir', 'attr': {'class': 'btn btn-outline-danger'}}) }}    
                                        </div>
                                        <div class="form-group">
                                            {{ form_widget(formCard.hard, {'label': 'Difficile', 'attr': {'class': 'btn btn-outline-warning'}}) }}
                                        </div>
                                        <div class="form-group">
                                            {{ form_widget(formCard.medium, {'label': 'Correct', 'attr': {'class': 'btn btn-outline-info'}}) }}
                                        </div>
                                        <div class="form-group">
                                            {{ form_widget(formCard.easy, {'label': 'Facile', 'attr': {'class': 'btn btn-outline-success'}}) }}
                                        </div>
                                    {% endif %}

                                    <input type="hidden" name="card-id" value="{{ card.id }}">

                                    {{ form_end(formCard) }}
                                </div>
                            </div>
                        </article>
                    </div>
                {% endif %}
            {% endfor %}
        </div>

    {% endif %}

    </section>
{% endblock %}

{% block javascripts %}
    <script src="{{ asset('js/home.js') }}"></script>
    <script src="https://unpkg.com/aos@next/dist/aos.js"></script>
    <script>
        AOS.init();
    </script>
{% endblock %}